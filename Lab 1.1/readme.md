# Лабораторная работа. Базовая настройка коммутатора 
**Топология**  

![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/B1.jpg)  

| Устройство    | Интерфейс          | IP-адрес / префикс |
| ------------- |:------------------:| -----:|
| **S1**     | VLAN1   | 192.168.1.2  255.255.255.0 |
| **PC-A**    | NIC |   192.168.1.10 255.255.255.0 |

**Задачи**  
Часть 1. Проверка конфигурации коммутатора по умолчанию  
Часть 2. Создание сети и настройка основных параметров устройства  
•	Настройте базовые параметры коммутатора.  
•	Настройте IP-адрес для ПК.  
Часть 3. Проверка сетевых подключений  
•	Отобразите конфигурацию устройства.  
•	Протестируйте сквозное соединение, отправив эхо-запрос.  
•	Протестируйте возможности удаленного управления с помощью Telnet.  

## Часть 1. Создание сети и проверка настроек коммутатора по умолчанию  
В первой части лабораторной работы вам предстоит настроить топологию сети и проверить настройку коммутатора по умолчанию.
### Шаг 1. Создайте сеть согласно топологии.  
a.	Подсоедините консольный кабель, как показано в топологии. На данном этапе не подключайте кабель Ethernet компьютера PC-A.  
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/B3.jpg)   
Проверка конфигурации:  
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/B2.jpg)   
**Коммутатор настроин по умолчанию**  
b.	Установите консольное подключение к коммутатору с компьютера PC-A с помощью  Tera Term или другой программы эмуляции терминала.  
**Вопрос: Почему нужно использовать консольное подключение для первоначальной настройки коммутатора? Почему нельзя подключиться к коммутатору через Telnet или SSH?**  
*-	Нам не известны его настройки. А так как предполагается, что этот коммутатор настроен по умолчанию, то Telnet и SSH не настроены*  

### Шаг 2. Проверьте настройки коммутатора по умолчанию.   
b.	Изучите текущий файл running configuration.    
**Сколько интерфейсов FastEthernet имеется на коммутаторе 2960?**  
*24*  
**Сколько интерфейсов Gigabit Ethernet имеется на коммутаторе 2960?**  
*2*  
**Каков диапазон значений, отображаемых в vty-линиях?**  
*От 0 до 15*  
c.	Изучите файл загрузочной конфигурации (startup configuration), который содержится в энергонезависимом ОЗУ (NVRAM).  
**Почему появляется это сообщение?**  
*Файл отсутствует*  
d.	Изучите характеристики SVI для VLAN 1.  
**Вопросы: Назначен ли IP-адрес сети VLAN 1?**
*НЕТ*   
**Какой MAC-адрес имеет SVI? Возможны различные варианты ответов.**
*Такой же как коммутатор. 00:60:70:5E:28:5B*  
**Данный интерфейс включен?**  
*НЕТ*  
e.	Изучите IP-свойства интерфейса SVI сети VLAN 1.  
**Вопрос: Какие выходные данные вы видите?**  
VLAN1  не настроен*
f.	Подсоедините кабель Ethernet компьютера PC-A к порту 6 на коммутаторе и изучите IP-свойства интерфейса SVI сети VLAN 1. Дождитесь согласования параметров скорости и дуплекса между коммутатором и ПК.
Примечание. При использовании Netlab включите интерфейс F0/6 на коммутаторе S1.
**Вопрос: Какие выходные данные вы видите?**
  ![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A5.png)
  
g.	Изучите сведения о версии ОС Cisco IOS на коммутаторе.   
**Вопросы: Под управлением какой версии ОС Cisco IOS работает коммутатор?**   
*15.0(2)SE4*   
**Как называется файл образа системы?**  
2960-lanbasek9-mz.150-2.SE4.bin*
h.	Изучите свойства по умолчанию интерфейса FastEthernet, который используется компьютером PC-A.
Switch# show interface f0/6
**Вопрос: Интерфейс включен или выключен?**
  ![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A6.png)
**Что нужно сделать, чтобы включить интерфейс?**
*интерфейс включен*   
**Какой MAC-адрес у интерфейса?**   
*0007.ec05.0506*  
**Какие настройки скорости и дуплекса заданы в интерфейсе?**   
*Full-duplex, 100Mb/s*  
i.	Изучите флеш-память.  
Выполните одну из следующих команд, чтобы изучить содержимое флеш-каталога.  
Switch# show flash    
Switch# dir flash:   
В конце имени файла указано расширение, например .bin. Каталоги не имеют расширения файла.  
**Вопрос: Какое имя присвоено образу Cisco IOS?**   
*2960-lanbasek9-mz.150-2.SE4.bin*   

## Часть 2. Настройка базовых параметров сетевых устройств   
Во второй части необходимо будет настроить основные параметры коммутатора и компьютера.   
### Шаг 1. Настройте базовые параметры коммутатора.      
a.	В режиме глобальной конфигурации скопируйте следующие базовые параметры конфигурации и вставьте их в файл на коммутаторе S1.    
no ip domain-lookup  
hostname S1  
service password-encryption   
enable secret class   
banner motd #   
Unauthorized access is strictly prohibited. #   
b.	Назначьте IP-адрес интерфейсу SVI на коммутаторе. Благодаря этому вы получите возможность удаленного управления коммутатором.  
  ![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A7.png)   
c.	Доступ через порт консоли также следует ограничить  с помощью пароля. Используйте cisco в качестве пароля для входа в консоль в этом задании. Конфигурация по умолчанию разрешает все консольные подключения без пароля. Чтобы консольные сообщения не прерывали выполнение команд, используйте параметр logging synchronous.     
S1(config)# line con 0   
S1(config-line)# logging synchronous    
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A8.png)      
d.	Настройте каналы виртуального соединения для удаленного управления (vty), чтобы коммутатор разрешил доступ через Telnet. Если не настроить пароль VTY, будет невозможно подключиться к коммутатору по протоколу Telnet.  
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A9.png)    
**Для чего нужна команда login?**  
*Для активации работы VTY. Без этой команды доступа не будет.*   

### Шаг 2. Настройте IP-адрес на компьютере PC-A.  
Назначьте компьютеру IP-адрес и маску подсети в соответствии с таблицей адресации.  
1)	Перейдите в Панель управления. (Control Panel)
2)	В представлении «Категория» выберите « Просмотр состояния сети и задач».
3)	Щелкните Изменение параметров адаптера на левой панели.
4)	Щелкните правой кнопкой мыши интерфейс Ethernet и выберите «Свойства» .
5)	Выберите Протокол Интернета версии 4 (TCP/IPv4) > Свойства.
6)	Выберите Использовать следующий IP-адрес и введите IP-адрес и маску подсети  и нажмите ОК.

![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A10.png)     

## Часть 3. Проверка сетевых подключений
В третьей части лабораторной работы вам предстоит проверить и задокументировать конфигурацию коммутатора, протестировать сквозное соединение между компьютером PC-A и коммутатором S1, а также протестировать возможность удаленного управления коммутатором.  
### Шаг 1. Отобразите конфигурацию коммутатора.  

S1#show run  
Building configuration...  
Current configuration : 1317 bytes  
!   
version 15.0   
no service timestamps log datetime msec   
no service timestamps debug datetime msec   
service password-encryption   
!  
hostname S1   
!  
enable secret 5 $1$mERr$9cTjUIEqNGurQiFU.ZeCi1  
no ip domain-lookup  
spanning-tree mode pvst  
spanning-tree extend system-id  
!  
interface FastEthernet0/1  
......  
interface FastEthernet0/6   
......   
interface GigabitEthernet0/1  
!  
interface GigabitEthernet0/2   
!   
interface Vlan1   
ip address 192.168.1.2 255.255.255.0  
banner motd ^C Unauthorized access is strictly prohibited. ^C   
line con 0  
password 7 0822455D0A16   
logging synchronous   
login   
line vty 0 4  
password 7 0822404F1A0A   
login   
transport input telnet   
line vty 5 15   
login  
!   
end
b.	Проверьте параметры VLAN 1.  
S1# show interface vlan 1    
**Какова полоса пропускания этого интерфейса?**   
*Full-duplex, 100Mb/s*

### Шаг 2. Протестируйте сквозное соединение, отправив эхо-запрос.    
a.	В командной строке компьютера PC-A с помощью утилиты ping проверьте связь сначала с адресом PC-A.   
C:\> ping 192.168.1.10   
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A11.png)    
b.	Из командной строки компьютера PC-A отправьте эхо-запрос на административный адрес интерфейса SVI коммутатора S1.   
C:\> ping 192.168.1.2   
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A12.png)    

### Шаг 3. Проверьте удаленное управление коммутатором S1.   
a.	Откройте Tera Term или другую программу эмуляции терминала с возможностью Telnet. 
b.	Выберите сервер Telnet и укажите адрес управления SVI для подключения к S1.  Пароль: cisco.
c.	После ввода пароля cisco вы окажетесь в командной строке пользовательского режима. Для перехода в исполнительский режим EXEC введите команду enable и используйте секретный пароль class.
d.	Сохраните конфигурацию.
e.	Чтобы завершить сеанс Telnet, введите exit.   
![](https://github.com/Makentosh1600/studying_at_otus-/blob/main/Lab%201.1/JPG/A13.png)       

## Вопросы для повторения  
**1.	Зачем необходимо настраивать пароль VTY для коммутатора?**
*Для ограничения доступа*   
**2.	Что нужно сделать, чтобы пароли не отправлялись в незашифрованном виде?**
*-	Использовать enable secret вместо enable password*  
*- Отказаться от использования Tenet (данные передаются в открытом виде, включая пароли). Вместо него использовать SSH*











